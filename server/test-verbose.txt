node.exe : npm verbose cli C:\Program Files\nodejs\node.exe C:\Program Files\nodejs\node_modules\npm\bin\npm-cli.js
所在位置 C:\Program Files\nodejs\npm.ps1:29 字符: 3
+   & $NODE_EXE $NPM_CLI_JS $args
+   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (npm verbose cli...\bin\npm-cli.js:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
npm info using npm@10.9.2
npm info using node@v22.15.1
npm verbose title npm test assigned-reports.integration.test.ts
npm verbose argv "test" "assigned-reports.integration.test.ts" "--loglevel" "verbose"
npm verbose logfile logs-max:10 dir:C:\Users\L\AppData\Local\npm-cache\_logs\2025-11-26T17_53_34_233Z-
npm verbose logfile C:\Users\L\AppData\Local\npm-cache\_logs\2025-11-26T17_53_34_233Z-debug-0.log

> server@1.0.0 test
> jest --runInBand assigned-reports.integration.test.ts

  console.log
    MinIO initialized successfully

      at src/app.ts:73:13

  console.log
    [2025-11-26T17:53:39.891Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:40.072Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:40.160Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:40.254Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:40.339Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:40.418Z] GET /api/reports/assigned

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:40.926Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:40.994Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:41.073Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:41.161Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:41.237Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:41.335Z] GET /api/reports/assigned

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:41.750Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:41.823Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:41.899Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:41.983Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:42.076Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:42.161Z] GET /api/reports/assigned

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:42.554Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:42.636Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:42.706Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:42.777Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:42.849Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:42.930Z] GET /api/reports/assigned

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:43.329Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:43.403Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:43.483Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:43.567Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:43.639Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:43.776Z] GET /api/reports/assigned

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:44.172Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:44.249Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:44.332Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:44.415Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:44.477Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:44.584Z] GET /api/reports/assigned?status=ASSIGNED

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:44.991Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:45.064Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:45.136Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:45.205Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:45.278Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:45.380Z] GET /api/reports/assigned?status=IN_PROGRESS

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:45.772Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:45.844Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:45.918Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:46.000Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:46.076Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:46.200Z] GET /api/reports/assigned?status=RESOLVED

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:46.589Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:46.688Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:46.759Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:46.830Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:46.903Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:47.002Z] GET /api/reports/assigned?status=INVALID_STATUS

      at src/app.ts:25:13

  console.error
    [400] Bad Request: request/query/status must be equal to one of the allowed values: ASSIGNED, IN_PROGRESS, RESOLVED

      25 |
      26 |   // Logga sempre l'errore, anche in produzione
    > 27 |   console.error(`[${statusCode}] ${errorName}: ${message}`);
         |           ^
      28 |   if (err.stack) console.error(err.stack);
      29 |
      30 |   const response: any = {

      at errorHandler (src/middlewares/errorMiddleware.ts:27:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)

  console.error
    Bad Request: request/query/status must be equal to one of the allowed values: ASSIGNED, IN_PROGRESS, RESOLVED
        at Object.GET-/api/reports/assigned-not_provided (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\middlewares\openapi.request.validator.ts:216:35)
        at RequestValidator.validate (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\middlewares\openapi.request.validator.ts:85:37)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\openapi.validator.ts:291:49
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\openapi.validator.ts:199:20

      26 |   // Logga sempre l'errore, anche in produzione
      27 |   console.error(`[${statusCode}] ${errorName}: ${message}`);
    > 28 |   if (err.stack) console.error(err.stack);
         |                          ^
      29 |
      30 |   const response: any = {
      31 |     code: statusCode,

      at errorHandler (src/middlewares/errorMiddleware.ts:28:26)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)

  console.log
    [2025-11-26T17:53:47.416Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:47.489Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:47.554Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:47.621Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:47.690Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:47.803Z] GET /api/reports/assigned?status=PENDING_APPROVAL

      at src/app.ts:25:13

  console.error
    [400] Bad Request: request/query/status must be equal to one of the allowed values: ASSIGNED, IN_PROGRESS, RESOLVED

      25 |
      26 |   // Logga sempre l'errore, anche in produzione
    > 27 |   console.error(`[${statusCode}] ${errorName}: ${message}`);
         |           ^
      28 |   if (err.stack) console.error(err.stack);
      29 |
      30 |   const response: any = {

      at errorHandler (src/middlewares/errorMiddleware.ts:27:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)

  console.error
    Bad Request: request/query/status must be equal to one of the allowed values: ASSIGNED, IN_PROGRESS, RESOLVED
        at Object.GET-/api/reports/assigned-not_provided (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\middlewares\openapi.request.validator.ts:216:35)
        at RequestValidator.validate (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\middlewares\openapi.request.validator.ts:85:37)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\openapi.validator.ts:291:49
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\openapi.validator.ts:199:20

      26 |   // Logga sempre l'errore, anche in produzione
      27 |   console.error(`[${statusCode}] ${errorName}: ${message}`);
    > 28 |   if (err.stack) console.error(err.stack);
         |                          ^
      29 |
      30 |   const response: any = {
      31 |     code: statusCode,

      at errorHandler (src/middlewares/errorMiddleware.ts:28:26)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)

  console.log
    [2025-11-26T17:53:48.180Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:48.257Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:48.338Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:48.408Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:48.476Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:48.581Z] GET /api/reports/assigned

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:48.965Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:49.038Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:49.118Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:49.193Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:49.264Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:49.370Z] GET /api/reports/assigned?sortBy=createdAt&order=asc

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:49.772Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:49.847Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:49.921Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:49.990Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:50.059Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:50.154Z] GET /api/reports/assigned?sortBy=createdAt&order=desc

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:50.554Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:50.623Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:50.712Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:50.782Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:50.854Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:50.953Z] GET /api/reports/assigned?sortBy=invalidField

      at src/app.ts:25:13

  console.error
    [400] Bad Request: request/query/sortBy must be equal to one of the allowed values: createdAt, priority

      25 |
      26 |   // Logga sempre l'errore, anche in produzione
    > 27 |   console.error(`[${statusCode}] ${errorName}: ${message}`);
         |           ^
      28 |   if (err.stack) console.error(err.stack);
      29 |
      30 |   const response: any = {

      at errorHandler (src/middlewares/errorMiddleware.ts:27:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)

  console.error
    Bad Request: request/query/sortBy must be equal to one of the allowed values: createdAt, priority
        at Object.GET-/api/reports/assigned-not_provided (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\middlewares\openapi.request.validator.ts:216:35)
        at RequestValidator.validate (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\middlewares\openapi.request.validator.ts:85:37)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\openapi.validator.ts:291:49
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\openapi.validator.ts:199:20

      26 |   // Logga sempre l'errore, anche in produzione
      27 |   console.error(`[${statusCode}] ${errorName}: ${message}`);
    > 28 |   if (err.stack) console.error(err.stack);
         |                          ^
      29 |
      30 |   const response: any = {
      31 |     code: statusCode,

      at errorHandler (src/middlewares/errorMiddleware.ts:28:26)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)

  console.log
    [2025-11-26T17:53:51.346Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:51.420Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:51.493Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:51.585Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:51.664Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:51.732Z] GET /api/reports/assigned

      at src/app.ts:25:13

  console.error
    [401] Unauthorized: Authentication required

      25 |
      26 |   // Logga sempre l'errore, anche in produzione
    > 27 |   console.error(`[${statusCode}] ${errorName}: ${message}`);
         |           ^
      28 |   if (err.stack) console.error(err.stack);
      29 |
      30 |   const response: any = {

      at errorHandler (src/middlewares/errorMiddleware.ts:27:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/router/index.js:688:15
      at next (node_modules/router/index.js:276:14)
      at next (node_modules/router/lib/route.js:132:14)

  console.error
    Error: Authentication required
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\controllers\reportController.ts:9:11
        at Generator.next (<anonymous>)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\controllers\reportController.ts:41:71
        at new Promise (<anonymous>)
        at Object.<anonymous>.__awaiter (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\controllers\reportController.ts:37:12)
        at getAssignedReports (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\controllers\reportController.ts:58:12)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\middlewares\errorMiddleware.ts:47:21
        at Layer.handleRequest (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\layer.js:152:17)
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\route.js:157:13)
        at Route.dispatch (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\route.js:117:3)
        at handle (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:435:11)
        at Layer.handleRequest (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\layer.js:152:17)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:295:15
        at processParams (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:582:12)
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:291:5)
        at Function.handle (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:186:3)
        at router (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:60:12)
        at Layer.handleRequest (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\layer.js:152:17)
        at trimPrefix (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:342:13)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:297:9
        at processParams (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:582:12)
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:291:5)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:688:15
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:276:14)
        at Function.handle (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:186:3)
        at router (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:60:12)
        at Layer.handleRequest (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\layer.js:152:17)
        at trimPrefix (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:342:13)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:297:9
        at processParams (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:582:12)
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:291:5)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\framework\modded.express.mung.ts:61:13
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\openapi.validator.ts:212:20
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

      26 |   // Logga sempre l'errore, anche in produzione
      27 |   console.error(`[${statusCode}] ${errorName}: ${message}`);
    > 28 |   if (err.stack) console.error(err.stack);
         |                          ^
      29 |
      30 |   const response: any = {
      31 |     code: statusCode,

      at errorHandler (src/middlewares/errorMiddleware.ts:28:26)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/router/index.js:688:15
      at next (node_modules/router/index.js:276:14)
      at next (node_modules/router/lib/route.js:132:14)

  console.log
    [2025-11-26T17:53:52.112Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:52.188Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:52.289Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:52.364Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:52.466Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:52.532Z] GET /api/reports/assigned

      at src/app.ts:25:13

  console.error
    [403] Forbidden: Technical office staff privileges required

      25 |
      26 |   // Logga sempre l'errore, anche in produzione
    > 27 |   console.error(`[${statusCode}] ${errorName}: ${message}`);
         |           ^
      28 |   if (err.stack) console.error(err.stack);
      29 |
      30 |   const response: any = {

      at errorHandler (src/middlewares/errorMiddleware.ts:27:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/router/index.js:688:15
      at next (node_modules/router/index.js:276:14)
      at next (node_modules/router/lib/route.js:132:14)

  console.error
    Error: Technical office staff privileges required
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\controllers\reportController.ts:27:11
        at Generator.next (<anonymous>)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\controllers\reportController.ts:41:71
        at new Promise (<anonymous>)
        at Object.<anonymous>.__awaiter (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\controllers\reportController.ts:37:12)
        at getAssignedReports (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\controllers\reportController.ts:58:12)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\middlewares\errorMiddleware.ts:47:21
        at Layer.handleRequest (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\layer.js:152:17)
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\route.js:157:13)
        at Route.dispatch (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\route.js:117:3)
        at handle (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:435:11)
        at Layer.handleRequest (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\layer.js:152:17)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:295:15
        at processParams (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:582:12)
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:291:5)
        at Function.handle (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:186:3)
        at router (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:60:12)
        at Layer.handleRequest (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\layer.js:152:17)
        at trimPrefix (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:342:13)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:297:9
        at processParams (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:582:12)
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:291:5)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:688:15
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:276:14)
        at Function.handle (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:186:3)
        at router (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:60:12)
        at Layer.handleRequest (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\layer.js:152:17)
        at trimPrefix (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:342:13)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:297:9
        at processParams (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:582:12)
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:291:5)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\framework\modded.express.mung.ts:61:13
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\openapi.validator.ts:212:20

      26 |   // Logga sempre l'errore, anche in produzione
      27 |   console.error(`[${statusCode}] ${errorName}: ${message}`);
    > 28 |   if (err.stack) console.error(err.stack);
         |                          ^
      29 |
      30 |   const response: any = {
      31 |     code: statusCode,

      at errorHandler (src/middlewares/errorMiddleware.ts:28:26)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/router/index.js:688:15
      at next (node_modules/router/index.js:276:14)
      at next (node_modules/router/lib/route.js:132:14)

  console.log
    [2025-11-26T17:53:52.909Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:52.981Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:53.047Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:53.113Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:53.180Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:53.258Z] GET /api/reports/assigned

      at src/app.ts:25:13

  console.error
    [403] Forbidden: Technical office staff privileges required

      25 |
      26 |   // Logga sempre l'errore, anche in produzione
    > 27 |   console.error(`[${statusCode}] ${errorName}: ${message}`);
         |           ^
      28 |   if (err.stack) console.error(err.stack);
      29 |
      30 |   const response: any = {

      at errorHandler (src/middlewares/errorMiddleware.ts:27:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/router/index.js:688:15
      at next (node_modules/router/index.js:276:14)
      at next (node_modules/router/lib/route.js:132:14)

  console.error
    Error: Technical office staff privileges required
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\controllers\reportController.ts:27:11
        at Generator.next (<anonymous>)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\controllers\reportController.ts:41:71
        at new Promise (<anonymous>)
        at Object.<anonymous>.__awaiter (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\controllers\reportController.ts:37:12)
        at getAssignedReports (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\controllers\reportController.ts:58:12)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\middlewares\errorMiddleware.ts:47:21
        at Layer.handleRequest (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\layer.js:152:17)
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\route.js:157:13)
        at Route.dispatch (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\route.js:117:3)
        at handle (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:435:11)
        at Layer.handleRequest (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\layer.js:152:17)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:295:15
        at processParams (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:582:12)
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:291:5)
        at Function.handle (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:186:3)
        at router (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:60:12)
        at Layer.handleRequest (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\layer.js:152:17)
        at trimPrefix (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:342:13)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:297:9
        at processParams (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:582:12)
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:291:5)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:688:15
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:276:14)
        at Function.handle (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:186:3)
        at router (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:60:12)
        at Layer.handleRequest (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\layer.js:152:17)
        at trimPrefix (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:342:13)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:297:9
        at processParams (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:582:12)
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:291:5)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\framework\modded.express.mung.ts:61:13
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\openapi.validator.ts:212:20

      26 |   // Logga sempre l'errore, anche in produzione
      27 |   console.error(`[${statusCode}] ${errorName}: ${message}`);
    > 28 |   if (err.stack) console.error(err.stack);
         |                          ^
      29 |
      30 |   const response: any = {
      31 |     code: statusCode,

      at errorHandler (src/middlewares/errorMiddleware.ts:28:26)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/router/index.js:688:15
      at next (node_modules/router/index.js:276:14)
      at next (node_modules/router/lib/route.js:132:14)

  console.log
    [2025-11-26T17:53:53.644Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:53.721Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:53.801Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:53.874Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:53.942Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:54.011Z] GET /api/reports/assigned

      at src/app.ts:25:13

  console.error
    [403] Forbidden: Technical office staff privileges required

      25 |
      26 |   // Logga sempre l'errore, anche in produzione
    > 27 |   console.error(`[${statusCode}] ${errorName}: ${message}`);
         |           ^
      28 |   if (err.stack) console.error(err.stack);
      29 |
      30 |   const response: any = {

      at errorHandler (src/middlewares/errorMiddleware.ts:27:11)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/router/index.js:688:15
      at next (node_modules/router/index.js:276:14)
      at next (node_modules/router/lib/route.js:132:14)

  console.error
    Error: Technical office staff privileges required
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\controllers\reportController.ts:27:11
        at Generator.next (<anonymous>)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\controllers\reportController.ts:41:71
        at new Promise (<anonymous>)
        at Object.<anonymous>.__awaiter (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\controllers\reportController.ts:37:12)
        at getAssignedReports (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\controllers\reportController.ts:58:12)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\src\middlewares\errorMiddleware.ts:47:21
        at Layer.handleRequest (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\layer.js:152:17)
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\route.js:157:13)
        at Route.dispatch (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\route.js:117:3)
        at handle (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:435:11)
        at Layer.handleRequest (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\layer.js:152:17)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:295:15
        at processParams (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:582:12)
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:291:5)
        at Function.handle (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:186:3)
        at router (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:60:12)
        at Layer.handleRequest (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\layer.js:152:17)
        at trimPrefix (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:342:13)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:297:9
        at processParams (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:582:12)
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:291:5)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:688:15
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:276:14)
        at Function.handle (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:186:3)
        at router (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:60:12)
        at Layer.handleRequest (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\lib\layer.js:152:17)
        at trimPrefix (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:342:13)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:297:9
        at processParams (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:582:12)
        at next (D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\router\index.js:291:5)
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\framework\modded.express.mung.ts:61:13
        at D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server\node_modules\express-openapi-validator\src\openapi.validator.ts:212:20

      26 |   // Logga sempre l'errore, anche in produzione
      27 |   console.error(`[${statusCode}] ${errorName}: ${message}`);
    > 28 |   if (err.stack) console.error(err.stack);
         |                          ^
      29 |
      30 |   const response: any = {
      31 |     code: statusCode,

      at errorHandler (src/middlewares/errorMiddleware.ts:28:26)
      at Layer.handleError (node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/router/index.js:340:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/router/index.js:688:15
      at next (node_modules/router/index.js:276:14)
      at next (node_modules/router/lib/route.js:132:14)

  console.log
    [2025-11-26T17:53:54.390Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:54.471Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:54.544Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:54.606Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:54.669Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:54.807Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:54.877Z] GET /api/reports/assigned

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:54.962Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:55.034Z] GET /api/reports/assigned

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:55.127Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:55.196Z] GET /api/reports/assigned

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:55.572Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:55.641Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:55.714Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:55.782Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:55.849Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:55.934Z] GET /api/reports/assigned

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:56.329Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:56.405Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:56.475Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:56.546Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:56.623Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:56.710Z] GET /api/reports/assigned

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:57.086Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:57.155Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:57.226Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:57.295Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:57.365Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:57.478Z] GET /api/reports/assigned?status=ASSIGNED&sortBy=createdAt&order=asc

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:57.911Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:57.990Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:58.059Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:58.132Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:58.205Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:58.293Z] GET /api/reports/assigned

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:58.322Z] GET /api/reports/assigned

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:58.724Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:58.794Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:58.872Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:58.946Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:59.015Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:59.113Z] GET /api/reports/assigned

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:59.496Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:59.566Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:59.635Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:59.712Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:59.785Z] POST /api/session

      at src/app.ts:25:13

  console.log
    [2025-11-26T17:53:59.876Z] GET /api/reports/assigned

      at src/app.ts:25:13

FAIL test/integration/routes/assigned-reports.integration.test.ts (24.116 s)
  Story 8 - Assigned Reports Integration Tests
    GET /api/reports/assigned - Basic Functionality
      鈭?should return empty array when technical user has no assigned reports (1397 ms)
      鈭?should return only reports assigned to the authenticated technical user (865 ms)
      脳 should return reports with all required fields (824 ms)
      脳 should include user information in returned reports (756 ms)
    GET /api/reports/assigned - Status Filtering
      鈭?should return all assigned reports without status filter (ASSIGNED, IN_PROGRESS, RESOLVED) (855 ms)
      鈭?should filter reports by ASSIGNED status (800 ms)
      鈭?should filter reports by IN_PROGRESS status (799 ms)
      鈭?should filter reports by RESOLVED status (819 ms)
      脳 should return 400 for invalid status filter (803 ms)
      鈭?should return 400 for PENDING_APPROVAL status (not allowed for technical users) (788 ms)
    GET /api/reports/assigned - Sorting Functionality
      鈭?should sort reports by createdAt descending by default (794 ms)
      鈭?should sort reports by createdAt ascending (782 ms)
      鈭?should sort reports by createdAt descending explicitly (787 ms)
      脳 should handle invalid sortBy parameter (fallback to default) (794 ms)
    GET /api/reports/assigned - Authorization Tests
      鈭?should return 401 when not authenticated (776 ms)
      鈭?should return 403 when citizen tries to access assigned reports (800 ms)
      鈭?should return 403 when public relations officer tries to access assigned reports (722 ms)
      鈭?should return 403 when admin tries to access assigned reports (754 ms)
      鈭?should allow access for all valid technical office roles (1185 ms)
    GET /api/reports/assigned - Edge Cases
      鈭?should return empty array when technical user has only PENDING_APPROVAL reports (738 ms)
      鈭?should return empty array when technical user has only REJECTED reports (774 ms)
      鈭?should handle multiple filters and sorting combined (781 ms)
      鈭?should not return reports assigned to other technical users (839 ms)
    GET /api/reports/assigned - Data Integrity
      鈭?should include photos in returned reports (791 ms)
      鈭?should include messages in returned reports (769 ms)

  鈼?Story 8 - Assigned Reports Integration Tests 鈥?GET /api/reports/assigned - Basic Functionality 鈥?should return 
reports with all required fields

    expect(received).toHaveProperty(path, value)

    Expected path: "latitude"

    Expected value: 45.0703
    Received value: "45.0703"

      208 |       expect(report).toHaveProperty('description', 'Report with all fields');
      209 |       expect(report).toHaveProperty('category', ReportCategory.ROADS_URBAN_FURNISHINGS);
    > 210 |       expect(report).toHaveProperty('latitude', 45.0703);
          |                      ^
      211 |       expect(report).toHaveProperty('longitude', 7.6869);
      212 |       expect(report).toHaveProperty('address', 'Via Roma 123, Turin');
      213 |       expect(report).toHaveProperty('status', ReportStatus.ASSIGNED);

      at test/integration/routes/assigned-reports.integration.test.ts:210:22
      at fulfilled (test/integration/routes/assigned-reports.integration.test.ts:12:58)

  鈼?Story 8 - Assigned Reports Integration Tests 鈥?GET /api/reports/assigned - Basic Functionality 鈥?should include 
user information in returned reports

    expect(received).toHaveProperty(path)

    Expected path: "first_name"
    Received path: []

    Received value: {"email": "citizen-1764179622340@test.com", "emailNotificationsEnabled": true, "firstName": 
"Citizen", "id": 390, "lastName": "User", "role": "CITIZEN", "telegramUsername": null}

      243 |       expect(report.user).toHaveProperty('id', citizenUser.id);
      244 |       expect(report.user).toHaveProperty('email');
    > 245 |       expect(report.user).toHaveProperty('first_name');
          |                           ^
      246 |       expect(report.user).toHaveProperty('last_name');
      247 |     });
      248 |   });

      at test/integration/routes/assigned-reports.integration.test.ts:245:27
      at fulfilled (test/integration/routes/assigned-reports.integration.test.ts:12:58)

  鈼?Story 8 - Assigned Reports Integration Tests 鈥?GET /api/reports/assigned - Status Filtering 鈥?should return 400 
for invalid status filter

    expect(received).toContain(expected) // indexOf

    Expected substring: "Invalid status filter"
    Received string:    "request/query/status must be equal to one of the allowed values: ASSIGNED, IN_PROGRESS, 
RESOLVED"

      359 |       expect(response.status).toBe(400);
      360 |       expect(response.body).toHaveProperty('error');
    > 361 |       expect(response.body.message).toContain('Invalid status filter');
          |                                     ^
      362 |     });
      363 |
      364 |     it('should return 400 for PENDING_APPROVAL status (not allowed for technical users)', async () => {

      at test/integration/routes/assigned-reports.integration.test.ts:361:37
      at fulfilled (test/integration/routes/assigned-reports.integration.test.ts:12:58)

  鈼?Story 8 - Assigned Reports Integration Tests 鈥?GET /api/reports/assigned - Sorting Functionality 鈥?should handle 
invalid sortBy parameter (fallback to default)

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      461 |
      462 |       // Assert
    > 463 |       expect(response.status).toBe(200);
          |                               ^
      464 |       expect(response.body).toHaveLength(3);
      465 |       // Should still work with default sorting
      466 |     });

      at test/integration/routes/assigned-reports.integration.test.ts:463:31
      at fulfilled (test/integration/routes/assigned-reports.integration.test.ts:12:58)

Test Suites: 1 failed, 1 total
Tests:       4 failed, 21 passed, 25 total
Snapshots:   0 total
Time:        24.541 s
Ran all test suites matching /assigned-reports.integration.test.ts/i.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after 
all tests finished?
npm verbose cwd D:\my\Mastering\3rd\Software Engineering II\MainProject\participium\server
npm verbose os Windows_NT 10.0.19045
npm verbose node v22.15.1
npm verbose npm  v10.9.2
npm verbose exit 1
npm verbose code 1
